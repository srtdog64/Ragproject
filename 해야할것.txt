@asynccontextmanager
async def lifespan(app: FastAPI):
    # Startup
    logger.info("Application startup...")
    initialize_components()
    logger.info("Components initialized.")

    yield  # 앱 실행

    # Shutdown
    logger.info("Application shutdown...")
    # <--- 여기에 명시적인 리소스 정리 코드가 없습니다.
    logger.info("Application shutdown complete.")


lifespan 추가 server/main.py 리소스 정리 추가

추가적으로 임베드 매니저와 임베드 팩토리 중 하나로 통일하기(팩토리로 리팩터링 중이었는데 멈춤.)